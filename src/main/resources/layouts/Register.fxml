<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.jobsphere.controller.RegisterController"
      alignment="CENTER"
      stylesheets="@../Styles/register.css"
      styleClass="root">

    <ScrollPane fitToWidth="true" style="-fx-background-color:transparent; -fx-background:transparent;" vbarPolicy="AS_NEEDED">
        <content>
            <VBox alignment="CENTER">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>

                <VBox spacing="15" alignment="CENTER" styleClass="register-card">

                    <Label text="Register" styleClass="header-label"/>

                    <GridPane hgap="15" vgap="15" alignment="CENTER">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="35" halignment="RIGHT"/>
                            <ColumnConstraints percentWidth="65" halignment="LEFT"/>
                        </columnConstraints>

                        <Label text="Name:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                        <TextField fx:id="fullName" promptText="Full Name" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                        <Label text="Email:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                        <TextField fx:id="email" promptText="name@domain.com" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                        <Label text="Password:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                        <PasswordField fx:id="password" promptText="Password" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                        <Label text="Confirm Password:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                        <PasswordField fx:id="confirmPassword" promptText="Confirm" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                        <Label text="Role:" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
                        <ComboBox fx:id="role" promptText="Select Role" GridPane.rowIndex="4" GridPane.columnIndex="1" prefWidth="200"/>
                    </GridPane>

                    <Separator/>

                    <VBox fx:id="applicantBox" spacing="10" visible="false" managed="false" alignment="CENTER">
                        <Label text="Applicant Details" styleClass="section-label"/>
                        <GridPane hgap="15" vgap="15" alignment="CENTER">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="35" halignment="RIGHT"/>
                                <ColumnConstraints percentWidth="65" halignment="LEFT"/>
                            </columnConstraints>

                            <Label text="Phone:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                            <TextField fx:id="phone" promptText="+1 234..." GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                            <Label text="Experience:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                            <TextField fx:id="experience" promptText="Years (e.g. 2)" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                            <Label text="Skills:" GridPane.rowIndex="2" GridPane.columnIndex="0" GridPane.valignment="TOP"/>
                            <VBox spacing="8" GridPane.rowIndex="2" GridPane.columnIndex="1">
                                <HBox spacing="5">
                                    <TextField fx:id="skillInput" promptText="Add a skill" HBox.hgrow="ALWAYS"/>
                                    <Button text="Add" onAction="#onAddSkill" styleClass="small-btn"/>
                                </HBox>
                                <ListView fx:id="skillsList" prefHeight="100"/>
                                <Button text="Remove Selected" onAction="#onRemoveSkill" styleClass="small-btn"/>
                            </VBox>
                        </GridPane>
                    </VBox>

                    <VBox fx:id="companyBox" spacing="10" visible="false" managed="false" alignment="CENTER">
                        <Label text="Company Details" styleClass="section-label"/>
                        <GridPane hgap="15" vgap="15" alignment="CENTER">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="35" halignment="RIGHT"/>
                                <ColumnConstraints percentWidth="65" halignment="LEFT"/>
                            </columnConstraints>

                            <Label text="Website:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                            <TextField fx:id="companyWebsite" promptText="https://" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                            <Label text="Industry:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                            <TextField fx:id="companyIndustry" promptText="e.g. Tech" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                            <Label text="Description:" GridPane.rowIndex="2" GridPane.columnIndex="0" GridPane.valignment="TOP"/>
                            <TextArea fx:id="companyDescription" promptText="About the company..." GridPane.rowIndex="2" GridPane.columnIndex="1" prefRowCount="3" wrapText="true"/>
                        </GridPane>
                    </VBox>

                    <Label fx:id="msg" textFill="#e53935"/>

                    <HBox spacing="15" alignment="CENTER" style="-fx-padding: 10 0 0 0;">
                        <Button text="Register" fx:id="registerBtn" onAction="#onRegisterClicked"/>
                        <Button text="Back to Login" fx:id="loginBtn" onAction="#goToLogin"/>
                    </HBox>
                </VBox>
            </VBox>
        </content>
    </ScrollPane>
</VBox>